if (WIN32)

    if (USE_GUI)
        if (BUILD_FORECASTER)
            add_executable (atmoswing-forecaster WIN32 ${src_app_forecaster} ${PROJECT_SOURCE_DIR}/src/shared_base/gui/resource.rc)
        endif (BUILD_FORECASTER)
        if (BUILD_OPTIMIZER)
            add_executable (atmoswing-optimizer WIN32 ${src_app_optimizer} ${PROJECT_SOURCE_DIR}/src/shared_base/gui/resource.rc)
        endif (BUILD_OPTIMIZER)
    else (USE_GUI)
        if (BUILD_FORECASTER)
            add_executable (atmoswing-forecaster ${src_app_forecaster})
        endif (BUILD_FORECASTER)
        if (BUILD_OPTIMIZER)
            add_executable (atmoswing-optimizer ${src_app_optimizer})
        endif (BUILD_OPTIMIZER)
    endif (USE_GUI)
    if (BUILD_VIEWER)
        add_executable (atmoswing-viewer WIN32 ${src_app_viewer} ${PROJECT_SOURCE_DIR}/src/shared_base/gui/resource.rc)
    endif (BUILD_VIEWER)
    if (BUILD_TESTS)
        add_executable (atmoswing-tests WIN32 ${src_tests})
    endif (BUILD_TESTS)

elseif (UNIX AND NOT APPLE)

    if (BUILD_FORECASTER)
        add_executable (atmoswing-forecaster ${src_app_forecaster})
    endif (BUILD_FORECASTER)
    if (BUILD_VIEWER)
        add_executable (atmoswing-viewer ${src_app_viewer})
    endif (BUILD_VIEWER)
    if (BUILD_OPTIMIZER)
        add_executable (atmoswing-optimizer ${src_app_optimizer})
    endif (BUILD_OPTIMIZER)
    if (BUILD_TESTS)
        add_executable (atmoswing-tests ${src_tests})
    endif (BUILD_TESTS)

elseif (APPLE)

    if (BUILD_FORECASTER)
        add_executable (atmoswing-forecaster MACOSX_BUNDLE ${src_app_forecaster})
    endif (BUILD_FORECASTER)
    if (BUILD_VIEWER)
        add_executable (atmoswing-viewer MACOSX_BUNDLE ${src_app_viewer})
    endif (BUILD_VIEWER)
    if (BUILD_OPTIMIZER)
        add_executable (atmoswing-optimizer MACOSX_BUNDLE ${src_app_optimizer})
    endif (BUILD_OPTIMIZER)
    if (BUILD_TESTS)
        add_executable (atmoswing-tests MACOSX_BUNDLE ${src_tests})
    endif (BUILD_TESTS)

else (WIN32)

    if (BUILD_FORECASTER)
        add_executable (atmoswing-forecaster ${src_app_forecaster})
    endif (BUILD_FORECASTER)
    if (BUILD_VIEWER)
        add_executable (atmoswing-viewer ${src_app_viewer})
    endif (BUILD_VIEWER)
    if (BUILD_OPTIMIZER)
        add_executable (atmoswing-optimizer ${src_app_optimizer})
    endif (BUILD_OPTIMIZER)
    if (BUILD_TESTS)
        add_executable (atmoswing-tests ${src_tests})
    endif (BUILD_TESTS)

endif (WIN32)


#### Cppcheck
if (USE_CPPCHECK)

    add_cppcheck (asbase STYLE POSSIBLE_ERROR FAIL_ON_WARNINGS)
    if (BUILD_FORECASTER OR BUILD_OPTIMIZER)
        add_cppcheck (asprocessing STYLE POSSIBLE_ERROR FAIL_ON_WARNINGS)
    endif (BUILD_FORECASTER OR BUILD_OPTIMIZER)
    if (BUILD_FORECASTER)
        add_cppcheck (atmoswing-forecaster STYLE POSSIBLE_ERROR FAIL_ON_WARNINGS)
    endif (BUILD_FORECASTER)
    if (BUILD_VIEWER)
        add_cppcheck (atmoswing-viewer STYLE POSSIBLE_ERROR FAIL_ON_WARNINGS)
    endif (BUILD_VIEWER)
    if (BUILD_OPTIMIZER)
        add_cppcheck (atmoswing-optimizer STYLE POSSIBLE_ERROR FAIL_ON_WARNINGS)
    endif (BUILD_OPTIMIZER)
    if (BUILD_TESTS)
        add_cppcheck (atmoswing-tests STYLE POSSIBLE_ERROR FAIL_ON_WARNINGS)
    endif (BUILD_TESTS)

endif (USE_CPPCHECK)
